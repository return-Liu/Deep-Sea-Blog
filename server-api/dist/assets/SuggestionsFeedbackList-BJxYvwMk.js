import{d as N,e as y,B as S,c as n,f as s,m as d,J as C,K as A,n as L,r as B,o as a,a as F,x as e}from"./index-DaoAQrrJ.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"dashboard-container"},V={class:"feedback-section"},W={key:0,class:"card-list"},U={class:"card-header"},E={class:"user-meta"},J={class:"email"},K={class:"timestamp"},M={class:"card-content"},R={class:"feedback-text"},T={key:1,class:"empty-state"},j={class:"report-section"},q={key:0,class:"report-list"},G={class:"report-meta"},H={class:"meta-item"},O={class:"meta-item"},P={class:"info-columns"},Q={class:"info-card reporter-info"},X={class:"reporter-info"},Y={class:"reporter-email"},Z={class:"reporter-nickname"},$={class:"reporter-time"},ss={class:"info-card wall-info"},ts={class:"wall-content"},ls={class:"wall-id"},es={class:"wall-title"},ns={class:"wall-content"},as={class:"wall-image"},is=["src"],os={class:"wall-like"},ds={class:"wall-category"},rs={class:"wall-time"},cs={class:"info-card publisher-info"},us={class:"publisher-info"},ms={class:"publisher-email"},ps={class:"publisher-nickname"},_s={class:"publisher-time"},fs={key:1,class:"empty-state"},gs=N({__name:"SuggestionsFeedbackList",setup(vs){const r=y([]),c=y([]),x=async()=>{try{const t=(await L.get("/admin/feedback")).data.data.feedbacks;r.value=t.map(o=>({...o,formattedCreatedAt:new Date(o.createdAt).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}))}catch(i){console.error("获取建议与反馈信息失败",i)}},D=async()=>{try{const i=await L.get("/admin/wall/report");c.value=i.data.data.reports.map(t=>{var o;return{...t,formattedCreatedAt:new Date(t.createdAt).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),formattedWallCreatedAt:new Date((o=t.wall)==null?void 0:o.createdAt).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}}),console.log(i)}catch(i){console.error("获取举报留言墙列表失败",i)}};return S(()=>{x(),D()}),(i,t)=>{const o=B("user-avatar");return a(),n("div",I,[s("section",V,[t[1]||(t[1]=s("h2",{class:"section-title"},[s("i",{class:"icon icon-feedback"}),d(" 建议与反馈列表 ")],-1)),r.value.length>0?(a(),n("div",W,[(a(!0),n(C,null,A(r.value,(l,u)=>(a(),n("div",{key:u,class:"feedback-card"},[s("div",U,[F(o,{email:l.email},null,8,["email"]),s("div",E,[s("h3",null,e(l.name),1),s("p",J,e(l.email),1)]),s("time",K,e(l.formattedCreatedAt),1)]),s("div",M,[s("p",R,e(l.feedback),1)])]))),128))])):(a(),n("div",T,t[0]||(t[0]=[s("p",null,"暂无建议与反馈",-1)])))]),s("section",j,[t[21]||(t[21]=s("h2",{class:"section-title"},[s("i",{class:"icon icon-report"}),d(" 举报留言列表 ")],-1)),c.value.length>0?(a(),n("div",q,[(a(!0),n(C,null,A(c.value,(l,u)=>{var m,p,_,f,g,v,h,k,w,b;return a(),n("div",{key:u,class:"report-card"},[s("div",G,[s("div",H,[t[2]||(t[2]=s("label",null,"举报ID：",-1)),s("span",null,e(l.id),1)]),s("div",O,[t[3]||(t[3]=s("label",null,"举报时间：",-1)),s("time",null,e(l.formattedCreatedAt),1)])]),s("div",P,[s("div",Q,[t[7]||(t[7]=s("h4",{class:"info-title"},[s("i",{class:"icon icon-user"}),d(" 举报人信息 ")],-1)),s("div",X,[s("p",Y,[t[4]||(t[4]=s("span",null,"邮箱：",-1)),s("span",null,e((m=l.user)==null?void 0:m.email),1)]),s("p",Z,[t[5]||(t[5]=s("span",null,"昵称：",-1)),s("span",null,e((p=l.user)==null?void 0:p.nickname),1)]),s("p",$,[t[6]||(t[6]=s("span",null,"举报时间：",-1)),s("time",null,e(l.formattedCreatedAt),1)])])]),s("div",ss,[t[15]||(t[15]=s("h4",{class:"info-title"},[s("i",{class:"icon icon-wall"}),d(" 被举报内容 ")],-1)),s("div",ts,[s("p",ls,[t[8]||(t[8]=s("span",null,"留言墙ID：",-1)),s("span",null,e((_=l.wall)==null?void 0:_.id),1)]),s("p",es,[t[9]||(t[9]=s("span",null,"留言墙标题：",-1)),s("span",null,e((f=l.wall)==null?void 0:f.name),1)]),s("p",ns,[t[10]||(t[10]=s("span",null,"留言内容：",-1)),s("span",null,e((g=l.wall)==null?void 0:g.content),1)]),s("p",as,[t[11]||(t[11]=s("span",null,"留言图片：",-1)),s("img",{src:(v=l.wall)==null?void 0:v.photo,alt:"留言图片"},null,8,is)]),s("p",os,[t[12]||(t[12]=s("span",null,"留言点赞",-1)),s("span",null,e((h=l.wall)==null?void 0:h.likesCount),1)]),s("p",ds,[t[13]||(t[13]=s("span",null,"留言分类：",-1)),s("span",null,e((k=l.wall)==null?void 0:k.category),1)]),s("p",rs,[t[14]||(t[14]=s("span",null,"留言时间：",-1)),s("time",null,e(l.formattedWallCreatedAt),1)])])]),s("div",cs,[t[19]||(t[19]=s("h4",{class:"info-title"},[s("i",{class:"icon icon-publisher"}),d(" 发布者信息 ")],-1)),s("div",us,[s("p",ms,[t[16]||(t[16]=s("span",null,"邮箱：",-1)),s("span",null,e((w=l.wall.User)==null?void 0:w.email),1)]),s("p",ps,[t[17]||(t[17]=s("span",null,"昵称：",-1)),s("span",null,e((b=l.wall.User)==null?void 0:b.nickname),1)]),s("p",_s,[t[18]||(t[18]=s("span",null,"发布时间：",-1)),s("time",null,e(l.formattedWallCreatedAt),1)])])])])])}),128))])):(a(),n("div",fs,t[20]||(t[20]=[s("p",null,"暂无举报留言",-1)])))])])}}}),ws=z(gs,[["__scopeId","data-v-abb65d8c"]]);export{ws as default};
