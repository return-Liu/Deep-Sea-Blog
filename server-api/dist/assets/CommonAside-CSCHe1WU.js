import{e as C,B as q,U as A,V as D,W as Q,X as T,Y as $,Z as H,_ as O,$ as Y,a0 as z,a1 as K,Q as W,n as X,E as Z,d as j,k as f,w as t,P as x,h as a,r as l,o as m,f as y,a as e,m as c,y as G,s as J,a2 as L}from"./index-DaoAQrrJ.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";function te(){const k=W(),n=C(!0);let s=C(null);const i=C(!1);async function p(){try{const h=await X.get("/users/me");s.value=h.data.data.id,s.value&&localStorage.getItem(`isCollapsed-${s.value}`)==="true"&&(i.value=!0)}catch{Z.error("获取用户信息失败")}}const g=()=>{i.value=!i.value,localStorage.setItem(`isCollapsed-${s.value}`,i.value.toString())},v=()=>{window.open("https://yike.design/","_blank")};return q(()=>{p()}),{isCollapsed:i,toggleCollapse:g,openReadmeInEditor:v,HomeFilled:A,Share:D,ChatDotRound:Q,FolderOpened:T,ChatSquare:$,VideoPause:H,Monitor:O,showTitle:n,Right:Y,Back:z,route:k,SetUp:K,userId:s}}const oe=j({__name:"CommonAside",setup(k){let{isCollapsed:n,toggleCollapse:s,openReadmeInEditor:i,HomeFilled:p,Share:g,ChatDotRound:v,FolderOpened:h,ChatSquare:S,VideoPause:ae,Monitor:le,showTitle:w,Right:b,userId:F,Back:I,SetUp:se,route:R}=te();return(ne,o)=>{const d=l("el-icon"),r=l("router-link"),_=l("el-menu-item"),u=l("el-tooltip"),V=l("Picture"),B=l("CameraFilled"),P=l("QuestionFilled"),E=l("Calendar"),M=l("el-menu"),N=l("el-aside");return m(),f(N,{style:x({width:a(n)?"64px":"200px"}),class:"common-aside"},{default:t(()=>[y("div",{class:"common-aside-logo",style:x({display:a(n)?"none":"block"})}," 逸刻时光-YiKe ",4),e(M,{router:!0,"default-active":a(R).fullPath,"collapse-transition":!1,collapse:a(n)},{default:t(()=>[e(u,{content:"首页",placement:"right"},{default:t(()=>[e(_,{index:"/home"},{default:t(()=>[e(d,null,{default:t(()=>[e(a(p))]),_:1}),e(r,{to:"/home"},{default:t(()=>o[1]||(o[1]=[c("首页")])),_:1})]),_:1})]),_:1}),e(u,{content:"本地文件",placement:"right"},{default:t(()=>[e(_,{index:"/localresources"},{default:t(()=>[e(d,null,{default:t(()=>[e(V)]),_:1}),e(r,{to:"/localresources"},{default:t(()=>o[2]||(o[2]=[c("本地文件")])),_:1})]),_:1})]),_:1}),e(u,{content:"个人分享",placement:"right"},{default:t(()=>[e(_,{index:"/share/essays"},{default:t(()=>[e(d,null,{default:t(()=>[e(a(g))]),_:1}),e(r,{to:"/share/essays"},{default:t(()=>o[3]||(o[3]=[c("个人分享")])),_:1})]),_:1})]),_:1}),e(u,{content:"一刻时光",placement:"right"},{default:t(()=>[e(_,{index:"/wall/messages"},{default:t(()=>[e(d,null,{default:t(()=>[e(B)]),_:1}),e(r,{to:"/wall/messages"},{default:t(()=>o[4]||(o[4]=[c("一刻时光")])),_:1})]),_:1})]),_:1}),e(u,{content:"建议与反馈",placement:"right"},{default:t(()=>[e(_,{index:"/suggestionsfeedback"},{default:t(()=>[e(d,null,{default:t(()=>[e(P)]),_:1}),e(r,{to:"/suggestionsfeedback"},{default:t(()=>o[5]||(o[5]=[c("建议与反馈")])),_:1})]),_:1})]),_:1}),a(F)===4?(m(),f(u,{key:0,content:"建议与反馈列表",placement:"right"},{default:t(()=>[e(_,{index:"/suggestionsfeedbacklist"},{default:t(()=>[e(d,null,{default:t(()=>[e(E)]),_:1}),e(r,{to:"/suggestionsfeedbacklist"},{default:t(()=>o[6]||(o[6]=[c(" 建议与反馈列表 ")])),_:1})]),_:1})]),_:1})):G("",!0)]),_:1},8,["default-active","collapse"]),e(u,{content:a(n)?"展开":"收起",placement:"right"},{default:t(()=>[J(y("div",{class:"shrink",onClick:o[0]||(o[0]=(...U)=>a(s)&&a(s)(...U))},[e(d,null,{default:t(()=>[a(n)?(m(),f(a(b),{key:0})):(m(),f(a(I),{key:1}))]),_:1})],512),[[L,a(w)]])]),_:1},8,["content"])]),_:1},8,["style"])}}}),ie=ee(oe,[["__scopeId","data-v-64c5b9d7"]]);export{ie as default};
